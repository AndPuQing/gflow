<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>gqueue Reference - gflow Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A lightweight, single-node job scheduler inspired by Slurm">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">gflow Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gqueue-command-reference"><a class="header" href="#gqueue-command-reference">gqueue Command Reference</a></h1>
<p>Complete reference for the <code>gqueue</code> command - gflow's job queue monitoring tool.</p>
<h2 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h2>
<pre><code class="language-bash">gqueue [OPTIONS]
</code></pre>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p><code>gqueue</code> displays information about jobs in the gflow queue. It provides flexible filtering, formatting, and visualization options similar to Slurm's <code>squeue</code> command.</p>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<h3 id="filtering-options"><a class="header" href="#filtering-options">Filtering Options</a></h3>
<h4 id="--states-states--s-states"><a class="header" href="#--states-states--s-states"><code>--states &lt;STATES&gt;</code>, <code>-s &lt;STATES&gt;</code></a></h4>
<p>Filter jobs by state (comma-separated list).</p>
<p><strong>Valid states</strong>:</p>
<ul>
<li><code>Queued</code> or <code>PD</code>: Waiting for resources or dependencies</li>
<li><code>Running</code> or <code>R</code>: Currently executing</li>
<li><code>Finished</code> or <code>CD</code>: Completed successfully</li>
<li><code>Failed</code> or <code>F</code>: Exited with error</li>
<li><code>Cancelled</code> or <code>CA</code>: Manually cancelled</li>
<li><code>Timeout</code> or <code>TO</code>: Exceeded time limit</li>
</ul>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Show only running jobs
gqueue -s Running

# Show running and queued jobs
gqueue -s Running,Queued

# Show all terminal states
gqueue -s Finished,Failed,Cancelled,Timeout

# Use short form
gqueue -s R,PD
</code></pre>
<h4 id="--jobs-ids--j-ids"><a class="header" href="#--jobs-ids--j-ids"><code>--jobs &lt;IDS&gt;</code>, <code>-j &lt;IDS&gt;</code></a></h4>
<p>Filter by job ID (comma-separated list or ranges).</p>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Single job
gqueue -j 42

# Multiple jobs
gqueue -j 1,2,3

# Range (if supported)
gqueue -j 1-10

# Mixed
gqueue -j 1,5,10-15
</code></pre>
<h4 id="--names-names--n-names"><a class="header" href="#--names-names--n-names"><code>--names &lt;NAMES&gt;</code>, <code>-N &lt;NAMES&gt;</code></a></h4>
<p>Filter by job name (comma-separated list).</p>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Single name
gqueue -N training-job

# Multiple names
gqueue -N "prep,train,eval"

# Pattern matching (depends on implementation)
gqueue -N "train*"
</code></pre>
<h3 id="display-options"><a class="header" href="#display-options">Display Options</a></h3>
<h4 id="--limit-num--n-num"><a class="header" href="#--limit-num--n-num"><code>--limit &lt;NUM&gt;</code>, <code>-n &lt;NUM&gt;</code></a></h4>
<p>Limit number of jobs displayed.</p>
<p><strong>Behavior</strong>:</p>
<ul>
<li>Positive number: Show first N jobs</li>
<li>Negative number: Show last N jobs (default: -10)</li>
<li>Zero: Show all jobs (same as <code>--all</code>)</li>
</ul>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Show last 10 jobs (default)
gqueue

# Show last 20 jobs
gqueue -n 20

# Show first 5 jobs
gqueue -n 5

# Show all jobs
gqueue -n 0
</code></pre>
<h4 id="--all--a"><a class="header" href="#--all--a"><code>--all</code>, <code>-a</code></a></h4>
<p>Show all jobs (equivalent to <code>-n 0</code>).</p>
<p><strong>Example</strong>:</p>
<pre><code class="language-bash">gqueue -a
</code></pre>
<h4 id="--format-fields--f-fields"><a class="header" href="#--format-fields--f-fields"><code>--format &lt;FIELDS&gt;</code>, <code>-f &lt;FIELDS&gt;</code></a></h4>
<p>Custom output format (comma-separated field list).</p>
<p><strong>Available fields</strong>:</p>
<ul>
<li><code>JOBID</code>: Job ID number</li>
<li><code>NAME</code>: Job name (tmux session name)</li>
<li><code>ST</code>: Job state (short form: PD, R, CD, F, CA, TO)</li>
<li><code>STATE</code>: Job state (long form: Queued, Running, Finished, etc.)</li>
<li><code>TIME</code>: Elapsed time (HH:MM:SS)</li>
<li><code>TIMELIMIT</code>: Time limit (HH:MM:SS or UNLIMITED)</li>
<li><code>NODES</code>: Number of GPUs requested</li>
<li><code>NODELIST</code>: GPU IDs assigned (or REASON for queued jobs)</li>
<li><code>NODELIST(REASON)</code>: Alias for NODELIST</li>
<li><code>PRIORITY</code>: Job priority (0-255)</li>
<li><code>DEPENDENCY</code>: Job ID this job depends on</li>
</ul>
<p><strong>Default format</strong>:</p>
<pre><code class="language-bash">JOBID,NAME,ST,TIME,TIMELIMIT,NODES,NODELIST(REASON)
</code></pre>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Minimal output
gqueue -f JOBID,NAME,ST

# Time-focused view
gqueue -f JOBID,TIME,TIMELIMIT

# Resource-focused view
gqueue -f JOBID,NODES,NODELIST,STATE

# Full info
gqueue -f JOBID,NAME,STATE,TIME,TIMELIMIT,NODES,NODELIST,PRIORITY,DEPENDENCY
</code></pre>
<h4 id="--group--g"><a class="header" href="#--group--g"><code>--group</code>, <code>-g</code></a></h4>
<p>Group jobs by state.</p>
<p><strong>Example</strong>:</p>
<pre><code class="language-bash">$ gqueue -g
RUNNING:
JOBID    NAME                ST    TIME         TIMELIMIT
1        train-resnet        R     00:15:23     04:00:00
2        train-vit           R     00:12:45     04:00:00

QUEUED:
JOBID    NAME                ST    TIME         TIMELIMIT
3        eval-models         PD    00:00:00     00:30:00

FINISHED:
JOBID    NAME                ST    TIME         TIMELIMIT
4        preprocess          CD    00:05:12     01:00:00
</code></pre>
<h4 id="--tree--t"><a class="header" href="#--tree--t"><code>--tree</code>, <code>-t</code></a></h4>
<p>Display jobs in dependency tree format.</p>
<p><strong>Example</strong>:</p>
<pre><code class="language-bash">$ gqueue -t
JOBID    NAME           ST    TIME         TIMELIMIT
1        data-prep      CD    00:05:23     01:00:00
├─ 2     train-model-a  R     00:15:45     04:00:00
│  └─ 4  eval-a         PD    00:00:00     00:10:00
└─ 3     train-model-b  R     00:15:50     04:00:00
   └─ 5  eval-b         PD    00:00:00     00:10:00
</code></pre>
<p><strong>Features</strong>:</p>
<ul>
<li>Shows parent-child relationships</li>
<li>Visualizes workflow structure</li>
<li>Detects and handles circular dependencies gracefully</li>
<li>ASCII tree drawing with box-drawing characters</li>
</ul>
<h3 id="sorting-options"><a class="header" href="#sorting-options">Sorting Options</a></h3>
<h4 id="--sort-field--r-field"><a class="header" href="#--sort-field--r-field"><code>--sort &lt;FIELD&gt;</code>, <code>-r &lt;FIELD&gt;</code></a></h4>
<p>Sort jobs by field.</p>
<p><strong>Valid fields</strong>:</p>
<ul>
<li><code>id</code>: Job ID (default)</li>
<li><code>state</code>: Job state</li>
<li><code>time</code>: Start time</li>
<li><code>name</code>: Job name</li>
<li><code>gpus</code>: Number of GPUs</li>
<li><code>priority</code>: Job priority</li>
</ul>
<p><strong>Examples</strong>:</p>
<pre><code class="language-bash"># Sort by priority (high to low)
gqueue -r priority

# Sort by name
gqueue -r name

# Sort by elapsed time
gqueue -r time

# Sort by GPU count
gqueue -r gpus
</code></pre>
<p><strong>Note</strong>: Sorting works with filtering and formatting options.</p>
<h3 id="global-options"><a class="header" href="#global-options">Global Options</a></h3>
<h4 id="--config-path"><a class="header" href="#--config-path"><code>--config &lt;PATH&gt;</code></a></h4>
<p>Use custom configuration file (hidden option).</p>
<p><strong>Example</strong>:</p>
<pre><code class="language-bash">gqueue --config /path/to/custom.toml
</code></pre>
<h4 id="--help--h"><a class="header" href="#--help--h"><code>--help</code>, <code>-h</code></a></h4>
<p>Display help message.</p>
<pre><code class="language-bash">$ gqueue --help
Lists jobs in the gflow scheduler.

Usage: gqueue [OPTIONS]

Options:
  -n, --limit &lt;LIMIT&gt;    Limit the number of jobs to display (positive: first N, negative: last N, 0: all) [default: -10]
  -a, --all              Show all jobs (equivalent to --limit 0)
  -r, --sort &lt;SORT&gt;      Sort jobs by field (options: id, state, time, name, gpus, priority) [default: id]
  -s, --states &lt;STATES&gt;  Filter by a comma-separated list of job states (e.g., Queued,Running)
  -j, --jobs &lt;JOBS&gt;      Filter by a comma-separated list of job IDs
  -N, --names &lt;NAMES&gt;    Filter by a comma-separated list of job names
  -f, --format &lt;FORMAT&gt;  Specify a comma-separated list of fields to display
  -g, --group            Group jobs by state (helps visualize job distribution)
  -t, --tree             Display jobs in tree format showing dependencies
  -h, --help             Print help
  -V, --version          Print version
</code></pre>
<h4 id="--version--v"><a class="header" href="#--version--v"><code>--version</code>, <code>-V</code></a></h4>
<p>Display version information.</p>
<pre><code class="language-bash">$ gqueue --version
gqueue 0.3.14 (2025-10-31T07:56:04.036593510Z)
Branch: main
Commit: ca405086be69e9efa97b13daf61c1ed8a12f98ed
Authors: PuQing &lt;me@puqing.work&gt;
</code></pre>
<h2 id="output-format"><a class="header" href="#output-format">Output Format</a></h2>
<h3 id="default-output"><a class="header" href="#default-output">Default Output</a></h3>
<pre><code>JOBID    NAME                ST    TIME         TIMELIMIT    NODES    NODELIST(REASON)
1        silent-pump-6338    R     00:15:23     02:00:00     1        0
2        brave-river-1234    PD    00:00:00     04:00:00     2        (Resources)
3        gentle-wave-9876    CD    00:45:12     UNLIMITED    0        N/A
</code></pre>
<h3 id="column-descriptions"><a class="header" href="#column-descriptions">Column Descriptions</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Column</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td>JOBID</td><td>Unique job identifier</td><td>42</td></tr>
<tr><td>NAME</td><td>Job run name (tmux session)</td><td>silent-pump-6338</td></tr>
<tr><td>ST</td><td>State (short)</td><td>R, PD, CD, F, CA, TO</td></tr>
<tr><td>STATE</td><td>State (long)</td><td>Running, Queued, Finished</td></tr>
<tr><td>TIME</td><td>Elapsed time</td><td>00:15:23</td></tr>
<tr><td>TIMELIMIT</td><td>Maximum runtime</td><td>02:00:00, UNLIMITED</td></tr>
<tr><td>NODES</td><td>GPU count</td><td>0, 1, 2</td></tr>
<tr><td>NODELIST(REASON)</td><td>GPU IDs or wait reason</td><td>0,1 or (Resources)</td></tr>
<tr><td>PRIORITY</td><td>Job priority</td><td>10 (default)</td></tr>
<tr><td>DEPENDENCY</td><td>Parent job ID</td><td>5 (or N/A)</td></tr>
</tbody></table>
</div>
<h3 id="state-codes"><a class="header" href="#state-codes">State Codes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Code</th><th>Full State</th><th>Meaning</th></tr></thead><tbody>
<tr><td>PD</td><td>Queued</td><td>Waiting for resources or dependencies</td></tr>
<tr><td>R</td><td>Running</td><td>Currently executing</td></tr>
<tr><td>CD</td><td>Finished</td><td>Completed successfully</td></tr>
<tr><td>F</td><td>Failed</td><td>Exited with non-zero status</td></tr>
<tr><td>CA</td><td>Cancelled</td><td>Manually cancelled</td></tr>
<tr><td>TO</td><td>Timeout</td><td>Exceeded time limit</td></tr>
</tbody></table>
</div>
<h3 id="time-format"><a class="header" href="#time-format">Time Format</a></h3>
<p><strong>Elapsed time and time limits</strong>:</p>
<ul>
<li>Format: <code>HH:MM:SS</code> or <code>D-HH:MM:SS</code> (with days)</li>
<li>Examples:
<ul>
<li><code>00:15:23</code>: 15 minutes, 23 seconds</li>
<li><code>02:30:00</code>: 2 hours, 30 minutes</li>
<li><code>1-04:30:00</code>: 1 day, 4 hours, 30 minutes</li>
<li><code>UNLIMITED</code>: No time limit</li>
</ul>
</li>
</ul>
<h3 id="node-list-format"><a class="header" href="#node-list-format">Node List Format</a></h3>
<p><strong>For running jobs</strong>: Comma-separated GPU IDs</p>
<pre><code>0,1,2
</code></pre>
<p><strong>For queued jobs</strong>: Reason for waiting</p>
<pre><code>(Resources)
(Dependency: Job 5)
</code></pre>
<p><strong>For non-GPU jobs</strong>: N/A</p>
<pre><code>N/A
</code></pre>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<pre><code class="language-bash"># View last 10 jobs
gqueue

# View all jobs
gqueue -a

# View last 20 jobs
gqueue -n 20
</code></pre>
<h3 id="filtering"><a class="header" href="#filtering">Filtering</a></h3>
<pre><code class="language-bash"># Show only running jobs
gqueue -s Running

# Show running and queued jobs
gqueue -s Running,Queued

# Show specific job
gqueue -j 42

# Show multiple jobs
gqueue -j 40,41,42

# Show jobs by name
gqueue -N "training-job"
</code></pre>
<h3 id="custom-formatting"><a class="header" href="#custom-formatting">Custom Formatting</a></h3>
<pre><code class="language-bash"># Minimal view
gqueue -f JOBID,NAME,ST

# Time-focused
gqueue -f JOBID,NAME,TIME,TIMELIMIT

# GPU-focused
gqueue -f JOBID,NAME,NODES,NODELIST

# Priority queue view
gqueue -f JOBID,NAME,PRIORITY,ST -r priority
</code></pre>
<h3 id="visualization"><a class="header" href="#visualization">Visualization</a></h3>
<pre><code class="language-bash"># Group by state
gqueue -g

# Show dependency tree
gqueue -t

# Tree view with filtering
gqueue -s Running,Queued -t
</code></pre>
<h3 id="sorting"><a class="header" href="#sorting">Sorting</a></h3>
<pre><code class="language-bash"># Sort by priority (highest first)
gqueue -r priority

# Sort by elapsed time
gqueue -r time

# Sort by job ID (default)
gqueue -r id
</code></pre>
<h3 id="monitoring"><a class="header" href="#monitoring">Monitoring</a></h3>
<pre><code class="language-bash"># Watch queue in real-time
watch -n 2 gqueue

# Watch running jobs
watch -n 2 'gqueue -s Running'

# Watch with custom format
watch -n 2 'gqueue -f JOBID,NAME,TIME,TIMELIMIT'

# Monitor dependency tree
watch -n 2 'gqueue -t'
</code></pre>
<h3 id="combined-options"><a class="header" href="#combined-options">Combined Options</a></h3>
<pre><code class="language-bash"># Running GPU jobs with details
gqueue -s Running -f JOBID,NAME,NODES,NODELIST,TIME

# Last 5 finished jobs
gqueue -s Finished -n 5 -r time

# All queued jobs grouped
gqueue -s Queued -g

# High-priority jobs first
gqueue -r priority -n 20
</code></pre>
<h2 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h2>
<h3 id="check-job-status"><a class="header" href="#check-job-status">Check Job Status</a></h3>
<pre><code class="language-bash"># Is job 42 running?
gqueue -j 42 -f ST

# What's the status of my job?
gqueue -N "my-job-name" -f JOBID,ST
</code></pre>
<h3 id="monitor-pipeline"><a class="header" href="#monitor-pipeline">Monitor Pipeline</a></h3>
<pre><code class="language-bash"># View workflow
gqueue -t

# Watch pipeline progress
watch -n 2 'gqueue -t'
</code></pre>
<h3 id="find-stuck-jobs"><a class="header" href="#find-stuck-jobs">Find Stuck Jobs</a></h3>
<pre><code class="language-bash"># Jobs queued for long time
gqueue -s Queued -r time -f JOBID,NAME,TIME

# Why is my job queued?
gqueue -j 42 -t
</code></pre>
<h3 id="resource-monitoring"><a class="header" href="#resource-monitoring">Resource Monitoring</a></h3>
<pre><code class="language-bash"># What GPUs are in use?
gqueue -s Running -f JOBID,NAME,NODES,NODELIST

# How many jobs are waiting for GPUs?
gqueue -s Queued -f JOBID,NODELIST
</code></pre>
<h3 id="job-history"><a class="header" href="#job-history">Job History</a></h3>
<pre><code class="language-bash"># Recent completions
gqueue -s Finished -n 10 -r time

# Failed jobs
gqueue -s Failed -a

# Timed out jobs
gqueue -s Timeout -a
</code></pre>
<h2 id="integration-examples"><a class="header" href="#integration-examples">Integration Examples</a></h2>
<h3 id="shell-scripts"><a class="header" href="#shell-scripts">Shell Scripts</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Wait for job to complete

JOB_ID=42

while true; do
    STATUS=$(gqueue -j $JOB_ID -f ST | tail -n 1)

    if [ "$STATUS" = "CD" ]; then
        echo "Job completed successfully!"
        break
    elif [ "$STATUS" = "F" ] || [ "$STATUS" = "TO" ]; then
        echo "Job failed or timed out!"
        exit 1
    fi

    sleep 5
done
</code></pre>
<h3 id="pipeline-monitoring"><a class="header" href="#pipeline-monitoring">Pipeline Monitoring</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Monitor pipeline progress

echo "=== Pipeline Status ==="
gqueue -j 1,2,3,4,5 -t

echo -e "\n=== Running Jobs ==="
gqueue -s Running -f JOBID,NAME,TIME,TIMELIMIT

echo -e "\n=== Queued Jobs ==="
gqueue -s Queued -f JOBID,NAME,NODELIST
</code></pre>
<h3 id="resource-dashboard"><a class="header" href="#resource-dashboard">Resource Dashboard</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Simple resource dashboard

clear
echo "╔════════════════════════════════════════╗"
echo "║         gflow Resource Dashboard       ║"
echo "╚════════════════════════════════════════╝"

echo -e "\n📊 Running Jobs:"
gqueue -s Running -f JOBID,NAME,NODES,NODELIST

echo -e "\n⏳ Queued Jobs:"
gqueue -s Queued -f JOBID,NAME,NODES,NODELIST

echo -e "\n✅ Recently Completed:"
gqueue -s Finished -n 5 -r time -f JOBID,NAME,TIME
</code></pre>
<h3 id="job-stats"><a class="header" href="#job-stats">Job Stats</a></h3>
<pre><code class="language-bash">#!/bin/bash
# Job statistics

TOTAL=$(gqueue -a -f JOBID | tail -n +2 | wc -l)
RUNNING=$(gqueue -s Running -f JOBID | tail -n +2 | wc -l)
QUEUED=$(gqueue -s Queued -f JOBID | tail -n +2 | wc -l)
FINISHED=$(gqueue -s Finished -f JOBID | tail -n +2 | wc -l)
FAILED=$(gqueue -s Failed -f JOBID | tail -n +2 | wc -l)

echo "Total jobs: $TOTAL"
echo "Running: $RUNNING"
echo "Queued: $QUEUED"
echo "Finished: $FINISHED"
echo "Failed: $FAILED"
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="empty-output"><a class="header" href="#empty-output">Empty Output</a></h3>
<p><strong>Possible causes</strong>:</p>
<ol>
<li>No jobs in queue</li>
<li>All jobs filtered out by state/name/id filter</li>
<li>Daemon not running</li>
</ol>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-bash"># Check daemon
ginfo info

# View all jobs
gqueue -a

# Remove filters
gqueue
</code></pre>
<h3 id="formatting-issues"><a class="header" href="#formatting-issues">Formatting Issues</a></h3>
<p><strong>Issue</strong>: Columns misaligned</p>
<p><strong>Solution</strong>: Terminal too narrow or too many columns</p>
<pre><code class="language-bash"># Use fewer columns
gqueue -f JOBID,NAME,ST

# Increase terminal width
</code></pre>
<h3 id="state-not-updating"><a class="header" href="#state-not-updating">State Not Updating</a></h3>
<p><strong>Issue</strong>: Job state seems stale</p>
<p><strong>Solution</strong>: Daemon updates state every 5 seconds</p>
<pre><code class="language-bash"># Wait a few seconds
sleep 5
gqueue

gflowd down
gflowd up
</code></pre>
<h2 id="performance-notes"><a class="header" href="#performance-notes">Performance Notes</a></h2>
<ul>
<li><code>gqueue</code> is fast even with thousands of jobs</li>
<li>Filtering by ID is faster than by name</li>
<li>Tree view may be slow with very deep dependencies</li>
<li>Default limit (-10) keeps output manageable</li>
</ul>
<h2 id="see-also"><a class="header" href="#see-also">See Also</a></h2>
<ul>
<li><a href="./gbatch-reference.html">gbatch</a> - Job submission reference</li>
<li><a href="./gcancel-reference.html">gcancel</a> - Job cancellation reference</li>
<li><a href="./ginfo-reference.html">ginfo</a> - Scheduler inspection reference</li>
<li><a href="./quick-reference.html">Quick Reference</a> - Command cheat sheet</li>
<li><a href="../user-guide/job-submission.html">Job Submission</a> - Job submission guide</li>
<li><a href="../user-guide/job-dependencies.html">Job Dependencies</a> - Dependency management</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../reference/gbatch-reference.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../reference/gcancel-reference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../reference/gbatch-reference.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../reference/gcancel-reference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
